<!DOCTYPE html>
<html>
<head><title>Icon Generator</title></head>
<body>
<p>Right-click each image and "Save Image As" to the public/icon/ folder</p>
<div id="output" style="display:flex;gap:20px;flex-wrap:wrap;"></div>
<script>
const icons = [
  // Default traffic light
  { name: 'default', draw: (ctx, s) => {
    // Dark rounded rect body
    const pad = s * 0.15;
    const w = s * 0.5;
    const h = s * 0.8;
    const x = (s - w) / 2;
    const y = (s - h) / 2;
    const r = s * 0.1;
    ctx.fillStyle = '#1f2937';
    ctx.beginPath();
    ctx.roundRect(x, y, w, h, r);
    ctx.fill();
    // Three lights
    const circR = s * 0.1;
    const cx = s / 2;
    const colors = ['#ef4444', '#eab308', '#22c55e'];
    const yPositions = [y + h * 0.22, y + h * 0.5, y + h * 0.78];
    colors.forEach((c, i) => {
      ctx.fillStyle = c;
      ctx.beginPath();
      ctx.arc(cx, yPositions[i], circR, 0, Math.PI * 2);
      ctx.fill();
    });
  }},
  // Green (Read)
  { name: 'read', draw: (ctx, s) => {
    ctx.fillStyle = '#22c55e';
    ctx.beginPath();
    ctx.arc(s/2, s/2, s * 0.4, 0, Math.PI * 2);
    ctx.fill();
    // White "R"
    ctx.fillStyle = '#fff';
    ctx.font = `bold ${s*0.45}px Inter, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('R', s/2, s/2 + s*0.02);
  }},
  // Yellow (Save)
  { name: 'save', draw: (ctx, s) => {
    ctx.fillStyle = '#eab308';
    ctx.beginPath();
    ctx.arc(s/2, s/2, s * 0.4, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#fff';
    ctx.font = `bold ${s*0.45}px Inter, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('S', s/2, s/2 + s*0.02);
  }},
  // Red (Leave)
  { name: 'leave', draw: (ctx, s) => {
    ctx.fillStyle = '#ef4444';
    ctx.beginPath();
    ctx.arc(s/2, s/2, s * 0.4, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#fff';
    ctx.font = `bold ${s*0.45}px Inter, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('L', s/2, s/2 + s*0.02);
  }},
  // Grey (loading/error/skipped)
  { name: 'grey', draw: (ctx, s) => {
    ctx.fillStyle = '#9ca3af';
    ctx.beginPath();
    ctx.arc(s/2, s/2, s * 0.4, 0, Math.PI * 2);
    ctx.fill();
    ctx.fillStyle = '#fff';
    ctx.font = `bold ${s*0.4}px Inter, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'middle';
    ctx.fillText('?', s/2, s/2 + s*0.02);
  }},
];

const sizes = [16, 32, 48, 96, 128];
const out = document.getElementById('output');

icons.forEach(icon => {
  sizes.forEach(s => {
    const canvas = document.createElement('canvas');
    canvas.width = s;
    canvas.height = s;
    const ctx = canvas.getContext('2d');
    icon.draw(ctx, s);
    const img = document.createElement('img');
    img.src = canvas.toDataURL('image/png');
    img.style.border = '1px solid #ccc';
    img.title = `${icon.name}-${s}.png`;
    const label = document.createElement('div');
    label.style.textAlign = 'center';
    label.style.fontSize = '11px';
    label.textContent = `${icon.name}-${s}`;
    const a = document.createElement('a');
    a.href = img.src;
    a.download = `${icon.name}-${s}.png`;
    a.appendChild(img);
    const wrap = document.createElement('div');
    wrap.appendChild(a);
    wrap.appendChild(label);
    out.appendChild(wrap);
  });
});
</script>
</body>
</html>
